#!/usr/bin/python# -*- coding: UTF-8 -*-import MySQLdbfrom flask import Flaskapp = Flask(__name__)# 打开数据库连接db = MySQLdb.connect("localhost", "root", "Deng@2019", "sys", charset='utf8')# 使用cursor()方法获取操作游标cursor = db.cursor()# SQL 查询语句sql = "SELECT * FROM EMPLOYEE \       WHERE INCOME > %s" % (2000)try:    # 执行SQL语句    cursor.execute(sql)    # 获取所有记录列表    results = cursor.fetchall()except:    print('Error: unable to fecth data')# 关闭数据库连接db.close()@app.route('/query_emp')def query_emp():    for row in results:        fname = row[0]        lname = row[1]        age = row[2]        sex = row[3]        income = row[4]        return "fname=%s,lname=%s,age=%s,sex=%s,income=%s" % \             (fname, lname, age, sex, income )if __name__ == '__main__':    app.run(host='0.0.0.0', port=5200, debug=True)