# -*- coding: utf-8 -*-from django.shortcuts import render, redirectfrom TestModel.models import Userfrom django.contrib import authfrom django.contrib.auth.decorators import login_required@login_required(login_url='login/')def index(request):    content = {}    results = User.objects.all()    content['users'] = results    return render(request, "index.html", content)def logion_check(request):    try:        uname = request.POST('username')        pword = request.POST('password')        user = auth.authenticate(username=uname, password=pword)        if user is not None:            auth.login(request, user)            return redirect('check/')        else:            return render(request, "logion.html", {'msg': '用户名或密码错误！'})    except:        return render(request, "logion.html", {'msg': None})