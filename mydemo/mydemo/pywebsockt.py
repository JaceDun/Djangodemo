# -*- coding: utf-8 -*-from flask import Flask, requestfrom gevent.pywsgi import WSGIServerfrom geventwebsocket.handler import WebSocketHandlerapp = Flask(__name__)@app.route("/")def index():    return '<h1> hello !</h1>'@app.route("/get_json")def get_json():    return '{"status":"ok"}'@app.route("/mysocket")def websocket_connect():    if request.environ.get('wsgi.websocket'):        ws = request.environ['wsgi.websocket']        if not ws:            return '{"status": "error", "message": "request is not websocket"}'        else:            print("client connected")    else:        return '{"status": "error", "message": "request is not websocket"}'if __name__ == "__main__":    http_server = WSGIServer(('0.0.0.0', 8989), app, handler_class=WebSocketHandler)    http_server.serve_forever()