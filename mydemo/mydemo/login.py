# -*- coding: utf-8 -*-from django.shortcuts import render, redirectfrom TestModel.models import Userfrom django.contrib import authfrom django.contrib.auth.decorators import login_requiredfrom django.contrib.auth import logout@login_required(login_url='login/')def login_index(request):    content = {}    results = User.objects.all()    content['users'] = results    return render(request, "index.html", content)def login_check(request):    try:        name = request.POST['username']        pwd = request.POST['password']        user = auth.authenticate(username=name, password=pwd)        if user is not None:            auth.login(request, user)            return redirect('../index/')        else:            return render(request, "login.html", {'msg': '用户名或密码错误！'})    except:        return render(request, "login.html", {'msg': None})def logout_index(request):    logout(request)    return redirect('login/')